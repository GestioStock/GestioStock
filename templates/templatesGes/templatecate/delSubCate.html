{% load static%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
    </script>
</head>
<body class="conteiner">
<div class="col">
  <!-- Agrega esto en el body de tu HTML -->
<form id="deleteCategoriaForm">
  <label for="idSubCate">ID de la Categoría:</label>
  <input type="number" id="idSubCate" name="idSubCate" required>
  <button type="submit" onclick="deleteSubCategoria()" class="btn btn-primary">Eliminar Categoría</button>
</form>

  </div>
</body>
<!-- Agrega esto después del formulario en tu HTML -->
<script>
  function deleteSubCategoria() {
      // Obtiene la id de la categoría desde el campo de entrada
      var idSubCate = $('#idSubCate').val();

      // Realiza la solicitud DELETE a la API
      $.ajax({
          type: 'DELETE',
          url: `/api/subcategorias/${idSubCate}/`,  // Ajusta la URL según tu configuración
          success: function(data) {
              console.log(data);  
              location.reload();           
            },
          error: function(error) {
              console.log("Error al eliminar la Sub-categoría:", error.responseText);
          }
      });
  }
</script>

</html>