{% load static%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
    </script>
</head>
<body class="conteiner">
<div class="col">
<form id="deleteCategoriaForm">
  <label for="idCate">ID de la Categoría:</label>
  <input type="number" id="idCate" name="idCate" required>
  <button type="submit" onclick="deleteCategoria()" class="btn btn-primary">Eliminar Categoría</button>
</form>

  </div>
</body>
<script>
  function deleteCategoria() {
      var idCate = $('#idCate').val();

      // Realiza la solicitud DELETE a la API
      $.ajax({
          type: 'DELETE',
          url: `/api/categorias/${idCate}/`,  
          success: function(data) {
              console.log(data);  
              location.reload();           
            },
          error: function(error) {
              console.log("Error al eliminar la categoría:", error.responseText);
          }
      });
  }
</script>

</html>